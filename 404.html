<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>404 Not Found | RS9C</title>
        <style>
            body {
                background-color: #f7f7f7;
            }
            @media (prefers-color-scheme: dark) {
                body {
                    background-color: #1e1e1e;
                }
            }
        </style>
    </head>
    <body></body>
    <script>
        let path = decodeURIComponent(window.location.pathname);
        let url = decodeURIComponent(window.location.href);

        let getContentF = new URLSearchParams(window.location.search).get("f");
        if (getContentF === null || getContentF === "") {
            if (findMapping(path) === 0) {
                alert(path + '\n这个页面不见了╮(￣▽￣")╭');
                window.location.href = "/index.html";
            }
        } else {
            // 将getContentF进行URL解码
            getContentF = decodeURIComponent(getContentF);
            alert(getContentF);
            // 回退至用户上一个页面
            window.history.back();
        }

        /**
         * @description 映射
         * @param {string} path - 要映射的URL
         * @return {*}
         */
        function findMapping(path) {
            // pid => old/pid
            if (path.match(/^(\/pid\/)/g)) {
                window.location.href = url.replace("/pid/", "/old/pid/");
                return 1;
            }
            return 0;
        }
    </script>
</html>
